"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[9912],{35424:(e,t,r)=>{r.d(t,{q:()=>I});var n=r(45992),o=r(37577),i=r(94310),s=r(54463),l=r(17588),a=r(34968),d=r(26558),c=r(12042);const g="DM Sans";(0,d.PY)(g,"https://fonts.gstatic.com/s/dmsans/v17/rP2Yp2ywxg089UriI5-g4vlH9VoD8Cmcqbu0-K6z9mXg.woff2");const u=o.Ay.div({display:"flex",alignItems:"center",width:"100%",height:"100%"}),f=o.Ay.div.attrs((e=>{let{$backgroundColor:t}=e;return{style:{backgroundColor:t}}}))({position:"relative",display:"flex",flex:1,height:"100%",borderRadius:"99999999999px",overflow:"hidden"}),h=o.Ay.div.attrs((e=>{let{$isTextInside:t=!1,$textColor:r,$variant:n}=e;return{style:{mixBlendMode:t&&!(0,c.f)(n,"textColor",r)?"difference":"normal"}}}))({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",transform:"translateY(-50%)"}),m=e=>{let{$isTextInside:t,$textColor:r,$variant:n,color:o}=e;return(0,c.f)(n,"textColor",r)?t?n===s._.MINIMAL_LIGHT?o.content.reversed.default():"rgb(75, 73, 86)":r:t?"white":r},p=o.Ay.span.attrs((e=>{let{theme:{color:t},$isTextInside:r=!1,$textColor:n,$variant:o}=e;var i;return{style:{color:null!==(i=m({$isTextInside:r,$textColor:n,$variant:o,color:t}))&&void 0!==i?i:"white"}}}))(Object.assign({fontSize:"calc(var(--parent-height) / 2.5 * 1px)",fontFamily:`'${g}', "Source Sans Pro", _fb_`,fontWeight:600,textAlign:"center"},a.iF.mixins.increaseSpecificity({padding:"0 calc(var(--parent-height) / 3 * 1px)"}))),C=o.Ay.div.attrs((e=>{let{$barColor:t,$progress:r}=e;return{style:{backgroundColor:t,transform:`translateX(-${100-r}%)`}}}))({position:"relative",width:"100%",height:"100%",borderRadius:"99999999999px",transition:"transform 0.3s ease-in-out",[h]:{position:"absolute",top:"50%"}}),v=(0,l.forwardRef)(((e,t)=>{let{variant:r,progress:o,showPercentage:i,styles:s,size:a}=e;const[d,c]=(0,l.useState)(null),[g,m]=(0,l.useState)(null),[v,b]=(0,l.useState)(!1),[x,S]=(0,l.useState)(0),I=Math.round(Math.min(100,Math.max(0,o)));(0,l.useLayoutEffect)((()=>{if(!i||!d||!g)return;const e=()=>{const e=d.offsetWidth,t=g.offsetWidth,r=t-t*I/100;S(e),b(e>r)};e();const t=new ResizeObserver(e);return t.observe(g),()=>t.disconnect()}),[I,i,d,g]);const y=`${I}%`;return(0,n.jsx)(u,{ref:t,style:{"--parent-height":a.height},children:(0,n.jsx)(f,{ref:m,role:"progressbar","aria-valuenow":I,"aria-valuemin":0,"aria-valuemax":100,"aria-label":y,$backgroundColor:s.backgroundColor,children:(0,n.jsx)(C,{$progress:I,$barColor:s.barColor,children:i&&(0,n.jsx)(h,{$isTextInside:v,$textColor:s.textColor,$variant:r,style:{right:v?"0%":`calc(-${x}px)`},children:(0,n.jsx)(p,{ref:c,$textColor:s.textColor,$isTextInside:v,$variant:r,children:y})})})})})})),b=(0,l.forwardRef)(((e,t)=>{let{progress:r,showPercentage:o,styles:i,size:l}=e;return(0,n.jsx)(v,{progress:r,ref:t,showPercentage:o,size:l,styles:i,variant:s._.MINIMAL_DARK})})),x=(0,l.forwardRef)(((e,t)=>{let{progress:r,showPercentage:o,styles:i,size:l}=e;return(0,n.jsx)(v,{progress:r,ref:t,showPercentage:o,size:l,styles:i,variant:s._.MINIMAL_LIGHT})})),S=e=>{let{progress:t,showPercentage:r,styles:o,variant:l}=e;const{ref:a,size:d}=(0,i.r)(),c=(e=>{switch(e){case s._.MINIMAL_LIGHT:return x;case s._.MINIMAL_DARK:return b;default:return()=>(0,n.jsx)("h1",{children:"\u23f0 WIP-ing progress bar"})}})(l);return(0,n.jsx)(c,{progress:t,ref:a,showPercentage:r,size:d,styles:o})},I=e=>{let{backgroundColor:t,barColor:r,progress:i,showPercentage:s,textColor:l,theme:a,variant:d}=e;const c={backgroundColor:""===t?void 0:t,barColor:""===r?void 0:r,textColor:""===l?void 0:l};return(0,n.jsx)(o.NP,{theme:a,children:(0,n.jsx)(S,{progress:i,showPercentage:s,styles:c,variant:d})})}},89912:(e,t,r)=>{r.r(t),r.d(t,{progressBarEditorScript:()=>d});var n=r(45992),o=r(57277),i=r(35424),s=r(12042),l=r(24465),a=r(75971);const d=e=>{let{script:t,editor:r}=e;const d=t.item;if(d){if(r.justCreated){const e=t.getConfig();if(d.parentSlide.isPopup)t.mutateConfig((e=>{e.slidesToDisplay.selectedSlides=[d.parentSlide.id]}));else{const n=e.slidesToDisplay.selectedSlides.filter((e=>r.getNonPopupSlides().some((t=>t.id===e))));0===n.length?t.mutateConfig((e=>{e.slidesToDisplay.selectedSlides=r.getNonPopupSlides().map((e=>{let{id:t}=e;return t}))})):t.mutateConfig((e=>{e.slidesToDisplay.selectedSlides=n}))}}r.on("slideCreated",(e=>{let{slide:n}=e;const o=n.parentSlide;if(!d.isTransversal||o)return;const i=t.getConfig().slidesToDisplay.selectedSlides,s=r.getNonPopupSlides().map((e=>{let{id:t}=e;return t})).filter((e=>e!==n.id));i.length===s.length&&t.mutateConfig((e=>{e.slidesToDisplay.selectedSlides=[...i,n.id]}))})),r.on("slideDeleted",(e=>{let{slide:r}=e;const n=r.parentSlide;if(!d.isTransversal||n)return;const o=t.getConfig().slidesToDisplay.selectedSlides;o.some((e=>e===r.id))&&t.mutateConfig((e=>{e.slidesToDisplay.selectedSlides=o.filter((e=>e!==r.id))}))})),t.on("configChange",(e=>{let{config:n,prevConfig:o}=e;var i;const l=t.item;if(!l||!l.exists)return;(e=>{e.thumbnail&&(e.thumbnail=void 0)})(l);const d=n.slidesToDisplay.selectedSlides;l.includedSlideIds=[...d],l.isTransversal=!0,d.length>0&&!d.includes(l.parentSlide.id)&&r.moveCurrentItemToSlide(d[0]);const c=l.parentSlide.isPopup||Boolean(l.parentItem);t.mutateConfig((e=>{e.showSlideSelector=!c})),o&&(d.length!==o.slidesToDisplay.selectedSlides.length&&(null===(i=r.trackWidgetConfigChange)||void 0===i||i.call(r,"slideSelector",{selectedSlideIds:d,elementName:a.m.scriptId})),((e,t)=>e.variant!==t.variant&&(""!==e.barColor||""!==e.backgroundColor||""!==e.textColor))(n,o)&&((e,t)=>{const{barColor:r,backgroundColor:n,textColor:o}=(0,s.B)(e);t.mutateConfig((e=>{e.barColor=r,e.backgroundColor=n,e.textColor=o}))})(n.variant,t))})),(0,o.x)({getTargetNodeItem:()=>t.item,renderApp:()=>{const{showPercentage:e,barColor:o,backgroundColor:s,textColor:a,variant:d}=t.getConfig(),c=t.item,g=(0,l.A)({allSlideIds:r.getNonPopupSlides().map((e=>e.id)),includedSlideIds:c.includedSlideIds||[],currentSlideId:r.getCurrentSlide().id});return(0,n.jsx)(i.q,{backgroundColor:s,barColor:o,progress:g,showPercentage:e,textColor:a,theme:r.theme,variant:d})},renderThumbnailApp:function(){let{renderingSlideId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{showPercentage:o,barColor:s,backgroundColor:a,textColor:d,variant:c}=t.getConfig(),g=t.item,u=(0,l.A)({allSlideIds:r.getNonPopupSlides().map((e=>e.id)),includedSlideIds:g.includedSlideIds||[],currentSlideId:e||r.getCurrentSlide().id});return(0,n.jsx)(i.q,{backgroundColor:a,barColor:s,progress:u,showPercentage:o,textColor:d,theme:r.theme,variant:c})},nodePrefix:"progress-bar"})({script:t,editor:r})}}},12042:(e,t,r)=>{r.d(t,{B:()=>o,f:()=>i});var n=r(54463);const o=e=>{switch(e){case n._.MINIMAL_LIGHT:return{barColor:"rgba(18,18,18,1)",backgroundColor:"rgba(232,230,240,1)",textColor:"rgba(18,18,18,1)"};case n._.MINIMAL_DARK:return{barColor:"rgba(249,248,252,1)",backgroundColor:"rgba(75,73,86,1)",textColor:"rgba(249,248,252,1)"};default:return{barColor:"rgba(18,18,18,1)",backgroundColor:"rgba(232,230,240,1)",textColor:"rgba(18,18,18,1)"}}},i=(e,t,r)=>{const{[t]:n}=o(e);return n===r}},24465:(e,t,r)=>{r.d(t,{A:()=>n});const n=e=>{let{allSlideIds:t,includedSlideIds:r,currentSlideId:n}=e;if(r.length<=1)return 0;const o=t.filter((e=>r.includes(e))),i=o.indexOf(n);return i<=0?0:i/(o.length-1)*100}},94310:(e,t,r)=>{r.d(t,{r:()=>o});var n=r(17588);const o=()=>{const[e,t]=(0,n.useState)({width:0,height:0}),r=(0,n.useRef)(null);return{ref:(0,n.useCallback)((e=>{if(r.current&&r.current.disconnect(),!e)return;const{width:n,height:o}=e.getBoundingClientRect();t({width:n,height:o}),r.current=new ResizeObserver((e=>{const{contentRect:r}=e[0];t({width:r.width,height:r.height})})),r.current.observe(e)}),[]),size:e}}},57277:(e,t,r)=>{r.d(t,{x:()=>o});var n=r(70377);function o(e){let{getTargetNodeItem:t,renderApp:r,renderThumbnailApp:o,nodePrefix:i}=e;return e=>{let{script:s,editor:l}=e,a=null,d=[];function c(e){a&&(n.unmountComponentAtNode(a),a=null),e&&"innerHtml"in e&&(e.innerHtml='<div class="card-iframe"><div style="width: 100%; height: 100%; background: #FF0000; color: #FFFFFF;">Deleted</div><script><\/script></div>')}function g(){a&&n.render(r(),a)}function u(){const e=t(s.getConfig());if(!e)return;const r=`${i}-${e.id}`;"innerHtml"in e&&(e.innerHtml=`<div class="card-iframe"><div id="${r}" class="genially-widget-app" style="width: 100%; height: 100%;"></div></div>`),requestAnimationFrame((()=>{a="idOfFreeNode"in e?document.getElementById(e.idOfFreeNode)||null:document.getElementById(r)||null,g()}))}function f(){o&&d.length&&d.forEach((e=>{const t="true"===e.dataset.critical,{renderingSlideId:r}=e.dataset;n.render(o({important:t,renderingSlideId:r}),e)}))}function h(){const e=t(s.getConfig());e&&"idOfThumbnailFreeNode"in e&&requestAnimationFrame((()=>{const t=document.getElementsByClassName(e.idOfThumbnailFreeNode);d=Array.from(t).filter((e=>e instanceof HTMLElement)),f()}))}s.on("configChange",(e=>{let{config:r,prevConfig:n}=e;const o=t(r),i=n?t(n):void 0;i&&i!==o&&c(i),o&&(o!==i?(u(),h()):(g(),f()))})),s.on("dispose",(()=>{c(t(s.getConfig()))})),l.on("itemMount",(e=>{let{item:t}=e;t===s.item&&u()})),l.on("slideChange",(()=>{g()})),l.on("itemUnmount",(e=>{let{item:t}=e;t===s.item&&c()})),l.on("itemThumbnailMount",(e=>{let{item:t}=e;t===s.item&&h()}))}}},26558:(e,t,r)=>{r.d(t,{PY:()=>i,Sx:()=>o,qP:()=>n});const n=e=>{const t=new Image;return t.crossOrigin="anonymous",t.src=e,t},o=e=>new Promise((t=>{const r=new Image;r.crossOrigin="anonymous",r.onload=t,r.src=e})),i=(e,t)=>{try{if(!!document.fonts&&Array.from(document.fonts).some((t=>t.family===e)))return;new FontFace(e,`url(${t})`).load().then((e=>{document.fonts.add(e)}))}catch(r){console.warn("Error preloading font",r)}}}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/9912.0bfdcf6d.chunk.js.map