"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[7950],{35424:(e,t,r)=>{r.d(t,{q:()=>w});var n=r(45992),o=r(37577),i=r(94310),s=r(54463),l=r(17588),a=r(34968),d=r(26558),c=r(12042);const u="DM Sans";(0,d.PY)(u,"https://fonts.gstatic.com/s/dmsans/v17/rP2Yp2ywxg089UriI5-g4vlH9VoD8Cmcqbu0-K6z9mXg.woff2");const g=o.Ay.div({display:"flex",alignItems:"center",width:"100%",height:"100%"}),h=o.Ay.div.attrs((e=>{let{$backgroundColor:t}=e;return{style:{backgroundColor:t}}}))({position:"relative",display:"flex",flex:1,height:"100%",borderRadius:"99999999999px",overflow:"hidden"}),f=o.Ay.div.attrs((e=>{let{$isTextInside:t=!1,$textColor:r,$variant:n}=e;return{style:{mixBlendMode:t&&!(0,c.f)(n,"textColor",r)?"difference":"normal"}}}))({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",transform:"translateY(-50%)"}),m=e=>{let{$isTextInside:t,$textColor:r,$variant:n,color:o}=e;return(0,c.f)(n,"textColor",r)?t?n===s._.MINIMAL_LIGHT?o.content.reversed.default():"rgb(75, 73, 86)":r:t?"white":r},p=o.Ay.span.attrs((e=>{let{theme:{color:t},$isTextInside:r=!1,$textColor:n,$variant:o}=e;var i;return{style:{color:null!==(i=m({$isTextInside:r,$textColor:n,$variant:o,color:t}))&&void 0!==i?i:"white"}}}))(Object.assign({fontSize:"calc(var(--parent-height) / 2.5 * 1px)",fontFamily:`'${u}', "Source Sans Pro", _fb_`,fontWeight:600,textAlign:"center"},a.iF.mixins.increaseSpecificity({padding:"0 calc(var(--parent-height) / 3 * 1px)"}))),v=o.Ay.div.attrs((e=>{let{$barColor:t,$progress:r}=e;return{style:{backgroundColor:t,transform:`translateX(-${100-r}%)`}}}))({position:"relative",width:"100%",height:"100%",borderRadius:"99999999999px",transition:"transform 0.3s ease-in-out",[f]:{position:"absolute",top:"50%"}}),b=(0,l.forwardRef)(((e,t)=>{let{variant:r,progress:o,showPercentage:i,styles:s,size:a}=e;const[d,c]=(0,l.useState)(null),[u,m]=(0,l.useState)(null),[b,C]=(0,l.useState)(!1),[x,I]=(0,l.useState)(0),w=Math.round(Math.min(100,Math.max(0,o)));(0,l.useLayoutEffect)((()=>{if(!i||!d||!u)return;const e=()=>{const e=d.offsetWidth,t=u.offsetWidth,r=t-t*w/100;I(e),C(e>r)};e();const t=new ResizeObserver(e);return t.observe(u),()=>t.disconnect()}),[w,i,d,u]);const S=`${w}%`;return(0,n.jsx)(g,{ref:t,style:{"--parent-height":a.height},children:(0,n.jsx)(h,{ref:m,role:"progressbar","aria-valuenow":w,"aria-valuemin":0,"aria-valuemax":100,"aria-label":S,$backgroundColor:s.backgroundColor,children:(0,n.jsx)(v,{$progress:w,$barColor:s.barColor,children:i&&(0,n.jsx)(f,{$isTextInside:b,$textColor:s.textColor,$variant:r,style:{right:b?"0%":`calc(-${x}px)`},children:(0,n.jsx)(p,{ref:c,$textColor:s.textColor,$isTextInside:b,$variant:r,children:S})})})})})})),C=(0,l.forwardRef)(((e,t)=>{let{progress:r,showPercentage:o,styles:i,size:l}=e;return(0,n.jsx)(b,{progress:r,ref:t,showPercentage:o,size:l,styles:i,variant:s._.MINIMAL_DARK})})),x=(0,l.forwardRef)(((e,t)=>{let{progress:r,showPercentage:o,styles:i,size:l}=e;return(0,n.jsx)(b,{progress:r,ref:t,showPercentage:o,size:l,styles:i,variant:s._.MINIMAL_LIGHT})})),I=e=>{let{progress:t,showPercentage:r,styles:o,variant:l}=e;const{ref:a,size:d}=(0,i.r)(),c=(e=>{switch(e){case s._.MINIMAL_LIGHT:return x;case s._.MINIMAL_DARK:return C;default:return()=>(0,n.jsx)("h1",{children:"\u23f0 WIP-ing progress bar"})}})(l);return(0,n.jsx)(c,{progress:t,ref:a,showPercentage:r,size:d,styles:o})},w=e=>{let{backgroundColor:t,barColor:r,progress:i,showPercentage:s,textColor:l,theme:a,variant:d}=e;const c={backgroundColor:""===t?void 0:t,barColor:""===r?void 0:r,textColor:""===l?void 0:l};return(0,n.jsx)(o.NP,{theme:a,children:(0,n.jsx)(I,{progress:i,showPercentage:s,styles:c,variant:d})})}},12042:(e,t,r)=>{r.d(t,{B:()=>o,f:()=>i});var n=r(54463);const o=e=>{switch(e){case n._.MINIMAL_LIGHT:return{barColor:"rgba(18,18,18,1)",backgroundColor:"rgba(232,230,240,1)",textColor:"rgba(18,18,18,1)"};case n._.MINIMAL_DARK:return{barColor:"rgba(249,248,252,1)",backgroundColor:"rgba(75,73,86,1)",textColor:"rgba(249,248,252,1)"};default:return{barColor:"rgba(18,18,18,1)",backgroundColor:"rgba(232,230,240,1)",textColor:"rgba(18,18,18,1)"}}},i=(e,t,r)=>{const{[t]:n}=o(e);return n===r}},24465:(e,t,r)=>{r.d(t,{A:()=>n});const n=e=>{let{allSlideIds:t,includedSlideIds:r,currentSlideId:n}=e;if(r.length<=1)return 0;const o=t.filter((e=>r.includes(e))),i=o.indexOf(n);return i<=0?0:i/(o.length-1)*100}},57950:(e,t,r)=>{r.r(t),r.d(t,{progressBarViewScript:()=>c});var n,o=r(45992);!function(e){e.SlideChange="slideChange"}(n||(n={}));var i=r(41381),s=r(35424),l=r(24465),a=r(60708);const d=e=>{let{allSlides:t,includedSlideIds:r,onEndAction:n}=e;const o=[];if(n){const e=(e=>{let t,{allSlides:r,includedSlideIds:n,action:o}=e;const i=r.filter((e=>n.includes(e.id))),s=i[i.length-1];return s&&(t=s.on(a.m.Entered,(()=>{o.run()}))),t})({allSlides:t,includedSlideIds:r,action:n});e&&o.push(e)}return o},c=(e,t)=>{(0,i.p)({getTargetNodeItem:()=>e.item,initialState:void 0,renderApp:r=>{let{setState:i,onUnmount:a}=r;const{showPercentage:c,barColor:u,backgroundColor:g,textColor:h,variant:f,onEndAction:m}=e.config,p=e.item.includedSlideIds||[];null===m||void 0===m||m.preload();const v=[t.on(n.SlideChange,(e=>{let{currentSlideId:t}=e;i({currentSlideId:t})})),...d({allSlides:t.getNonPopupSlides,includedSlideIds:p,onEndAction:"print"===t.viewMode?void 0:m})];return a((()=>{v.forEach((e=>e()))})),e=>{const r=(null===e||void 0===e?void 0:e.currentSlideId)||t.currentSlide.id,n=(0,l.A)({allSlideIds:t.getNonPopupSlides.map((e=>e.id)),includedSlideIds:p,currentSlideId:r});return(0,o.jsx)(s.q,{backgroundColor:g,barColor:u,progress:n,showPercentage:c,textColor:h,theme:t.theme,variant:f})}},renderThumbnailApp:r=>{let{renderingSlideId:n}=r;const{showPercentage:i,barColor:a,backgroundColor:d,textColor:c,variant:u}=e.config,g=e.item,h=(0,l.A)({allSlideIds:t.getNonPopupSlides.map((e=>e.id)),includedSlideIds:g.includedSlideIds||[],currentSlideId:n||t.currentSlide.id});return(0,o.jsx)(s.q,{backgroundColor:d,barColor:a,progress:h,showPercentage:i,textColor:c,theme:t.theme,variant:u})}})(e,t)}},94310:(e,t,r)=>{r.d(t,{r:()=>o});var n=r(17588);const o=()=>{const[e,t]=(0,n.useState)({width:0,height:0}),r=(0,n.useRef)(null);return{ref:(0,n.useCallback)((e=>{if(r.current&&r.current.disconnect(),!e)return;const{width:n,height:o}=e.getBoundingClientRect();t({width:n,height:o}),r.current=new ResizeObserver((e=>{const{contentRect:r}=e[0];t({width:r.width,height:r.height})})),r.current.observe(e)}),[]),size:e}}},41381:(e,t,r)=>{r.d(t,{p:()=>s});var n=r(70377),o=r(66264),i=r(60708);function s(e){let{getTargetNodeItem:t,renderApp:r,renderThumbnailApp:s,initialState:l}=e,a=!1;const d=[],c=e=>{d.push(e)};return e=>{const u=t(e.config),g=null===u||void 0===u?void 0:u.parentSlide;function h(){if(!u)return;let e=null;if("idOfFreeNode"in u)e=document.getElementById(u.idOfFreeNode);else{const t=document.createElement("div");t.innerHTML=u.source;let r=t.getElementsByClassName("genially-widget-app");r.length||(r=t.getElementsByClassName("genially-widget-gallery"));const{id:n}=r[0];if(!n)return;e=document.getElementById(n)}if(e){let t;const o=r=>{a&&t?n.render(t(r),e):console.warn('"rerender" was called when the widget was already unmounted. This is a no-op. Did you forget to dispose of an event handler with "onUnmount"?')};t=r({setState:o,onUnmount:c}),a=!0,o(l),d.push((()=>{n.unmountComponentAtNode(e)}))}}function f(){a=!1,d.forEach((e=>{e()})),d.length=0}function m(){if(!u||!("idOfThumbnailFreeNode"in u))return[];const e=document.getElementsByClassName(u.idOfThumbnailFreeNode);return Array.from(e).filter((e=>e instanceof HTMLElement))}const p=u&&"isTransversal"in u&&u.isTransversal,v=()=>{null===u||void 0===u||u.on(o.q.Mount,(()=>{h()})),null===u||void 0===u||u.on(o.q.Unmount,(()=>{f()}))};p?v():(null===g||void 0===g||g.on(i.m.Entering,(()=>{a||(h(),a||v())})),null===g||void 0===g||g.on(i.m.Exited,(()=>{a&&f()}))),null===g||void 0===g||g.on(i.m.ThumbnailMount,(()=>{!function(){if(!s||!u||!("idOfThumbnailFreeNode"in u))return;m().forEach((e=>{n.unmountComponentAtNode(e)}))}(),function(){if(!s||!u||!("idOfThumbnailFreeNode"in u))return;m().forEach((e=>{const{renderingSlideId:t}=e.dataset;n.render(s({renderingSlideId:t}),e)}))}()}))}}},26558:(e,t,r)=>{r.d(t,{PY:()=>i,Sx:()=>o,qP:()=>n});const n=e=>{const t=new Image;return t.crossOrigin="anonymous",t.src=e,t},o=e=>new Promise((t=>{const r=new Image;r.crossOrigin="anonymous",r.onload=t,r.src=e})),i=(e,t)=>{try{if(!!document.fonts&&Array.from(document.fonts).some((t=>t.family===e)))return;new FontFace(e,`url(${t})`).load().then((e=>{document.fonts.add(e)}))}catch(r){console.warn("Error preloading font",r)}}}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/7950.e9bd3115.chunk.js.map